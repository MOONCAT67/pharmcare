/* Workstation Shell (3 columns) */
.orders-shell{display:grid;grid-template-columns:22% 1fr 26%;gap:16px;min-height:calc(100vh - 120px)}
.col{display:flex;flex-direction:column;background:#fff;border:1px solid rgba(47,133,90,.12);border-radius:12px}
.col-queue{max-width:360px}
.col-workspace{overflow:auto;padding:12px}
.col-actions{padding:12px}
.sec-h{display:flex;align-items:baseline;justify-content:space-between;padding:12px;border-bottom:1px solid rgba(47,133,90,.12)}
.sec-h h3{margin:0;font-size:.95rem;font-weight:800}

/* Queue */
.queue{display:grid;padding:8px}
.queue-item{text-align:left;background:#fff;border:1px solid rgba(47,133,90,.12);border-radius:12px;padding:10px;cursor:pointer}
.queue-item+.queue-item{margin-top:8px}
.queue-item:hover{box-shadow:0 4px 12px rgba(107,207,155,.12)}
.queue-item.is-active{outline:2px solid rgba(107,207,155,.45)}
.q-top{display:flex;justify-content:space-between;align-items:center;gap:8px}
.q-name{font-weight:800}
.q-time{color:var(--text-500)}
.q-bottom{margin-top:6px}
.status-badge{display:inline-flex;align-items:center;height:22px;padding:0 10px;border-radius:999px;font-weight:800;font-size:.75rem;border:1px solid transparent}
.badge--available{background:rgba(16,185,129,.18);color:#065f46}
.badge--missing{background:rgba(239,68,68,.16);color:#991b1b}

/* Workspace */
.ws-section{background:#fff;border:1px solid rgba(47,133,90,.12);border-radius:12px;padding:10px;margin-bottom:12px}
.client-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.client-grid .span2{grid-column:1 / -1}
.label{font-size:.8rem;color:var(--text-500);font-weight:700}
.value{font-weight:800}

/* Tabs */
.tabs{display:flex;gap:6px;padding:4px;border:1px solid rgba(47,133,90,.12);background:#fbfffd;border-radius:10px;margin-bottom:10px}
.tab{height:30px;padding:0 10px;border-radius:8px;border:1px solid transparent;background:#fff;cursor:pointer;font-weight:700}
.tab.is-active{background:var(--primary-100);border-color:rgba(47,133,90,.2)}
.tab-panel{border:1px solid rgba(47,133,90,.12);border-radius:10px;padding:10px;background:#fff}
.rx-text{white-space:pre-wrap;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto;line-height:1.4;color:var(--text-700);margin:0}

/* Image viewer */
.img-tools{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.img-wrap{overflow:auto;max-height:360px;border:1px dashed rgba(47,133,90,.2);border-radius:10px;background:#fafdfb}
.img-wrap img{display:block;transform-origin:top left}

/* Medicines */
.meds-list{display:grid;gap:8px;margin-top:8px}
.med-row{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border:1px solid rgba(47,133,90,.12);border-radius:10px}
.med-left{display:flex;align-items:center;gap:10px}
.med-thumb{width:40px;height:40px;object-fit:cover;border-radius:8px;border:1px solid rgba(47,133,90,.12)}
.med-name{font-weight:700}
.decision-bar{position:sticky;bottom:0;background:#fff;padding:10px;border-top:1px solid rgba(47,133,90,.12);display:flex;gap:8px;justify-content:flex-end}

/* Right panel */
.actions-panel{position:sticky;top:12px;display:flex;flex-direction:column;gap:10px}
.form-grid{display:grid;grid-template-columns:1fr;gap:8px}
.form-grid label{display:grid;gap:6px;font-weight:700;color:var(--text-700)}
.form-grid input,.form-grid textarea{border:1px solid rgba(47,133,90,.2);border-radius:8px;padding:8px 10px;outline:none;background:#fff}
.form-grid input:focus,.form-grid textarea:focus{border-color:rgba(47,133,90,.4);box-shadow:0 0 0 2px rgba(107,207,155,.18)}
.stack{display:flex;flex-direction:column;gap:8px}
.drivers-list{display:grid;gap:8px}
.driver-row{display:flex;align-items:center;justify-content:space-between;border:1px solid rgba(47,133,90,.12);border-radius:10px;padding:8px 10px}
.code-box{border:1px dashed rgba(47,133,90,.35);border-radius:10px;padding:10px;background:#fbfffd}
.code{font-size:18px;font-weight:900;letter-spacing:2px}

/* Show map only when delivery has started (map block already gated in template) */